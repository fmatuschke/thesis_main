\documentclass[tikz]{standalone}
\usepackage{float}              % [H]
\usepackage{graphicx}           % (pdf, png, jpg, eps)
\usepackage{pgfplots}
\usepackage{siunitx}
\usepackage{currfile}
\usepackage{ifthen}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\pgfplotsset{compat=1.17}
\usepgfplotslibrary{colorbrewer}
\usepgfplotslibrary{groupplots}
\usepgfplotslibrary{statistics}
\tikzset{>=latex}
% 
\def\width{13.87303cm}
\def\height{22.37076cm}
\def\datapath{../../__PATH__}
\directlua0{
  pdf.setinfo ("/Path: (__PATH__)")
}
% 
\makeatletter
\definecolor{cc21}{HTML}{A6CEE3}
\definecolor{cc22}{HTML}{1F78B4}
\pgfplotscreateplotcyclelist{cc2}{cc21, cc22}
\makeatother
% 
\begin{document}
% 
\pgfmathsetmacro{\ng}{2}
\pgfmathsetmacro{\dx}{0.3}
\pgfmathsetmacro{\db}{0.5}
\pgfplotsset{
    Boxplot/.style={
        height=0.33*\height,
        width=139/147*\width, % because of lable
        xmin=0.5,
        xmax=8.5,
        axis x line=none,
        xlabel=threads,
        axis y line = left,
        enlarge y limits,
        ymajorgrids,
        clip=false,
        y label style={at={(axis description cs:-0.075,.5)},rotate=0,anchor=south},
        boxplot={
            draw position={1-\dx/2+floor((\plotnumofactualtype+0.001)/\ng) + \dx/(\ng-1)*mod(\plotnumofactualtype,\ng)},
            box extend=\db/\ng,
            mark size=0.42pt,
        },
        boxplot/draw direction=y,
        cycle list name=cc2,
    },
}
%
\foreach \a [count=\ai] in {0,100,1000} {
\begin{tikzpicture}[]
% 
\begin{axis}[%
   width = \width,
   height = 0.19*\height,
   Boxplot,
   ]

   \foreach \p in {1,2,3,4,5,6,7,8} {
      \foreach \f in {0,1} {

      \addplot+[fill, draw=black] table[%
          y={\f/\p/\a}, col sep=comma, row sep=newline,
          ]{\datapath};
  }}

\ifnum \ai=1
  \draw[black, dashed] ({axis cs:1,1}) -- ({axis cs:2.5,2.5}) node[sloped, pos=0.95, below] {ideal}; 
\fi 
\ifnum \ai=2
  \draw[black, dashed] ({axis cs:1,1}) -- ({axis cs:4,4}) node[sloped, pos=0.95, below] {ideal}; 
\fi 
\ifnum \ai=3
  \draw[black, dashed] ({axis cs:1,1}) -- ({axis cs:6,6}) node[sloped, pos=0.95, below] {ideal}; 
\fi       
% \node[anchor=north west] at (axis description cs:0,1) {\ref{legends\currfilebase}};
\draw[decorate,decoration={brace,amplitude=1ex,mirror}]
  ({axis cs:0.7,20.0} |- {axis description cs:0.0,0.0}) -- 
  ({axis cs:1.3,20.0} |- {axis description cs:0.0,0.0})
  node [black,midway,below,yshift=-1ex] {$1$};
\draw[decorate,decoration={brace,amplitude=1ex,mirror}]
  ({axis cs:1.7,20.0} |- {axis description cs:0.0,0.0}) -- 
  ({axis cs:2.3,20.0} |- {axis description cs:0.0,0.0})
  node [black,midway,below,yshift=-1ex] {$2$};
\draw[decorate,decoration={brace,amplitude=1ex,mirror}]
  ({axis cs:2.7,20.0} |- {axis description cs:0.0,0.0}) -- 
  ({axis cs:3.3,20.0} |- {axis description cs:0.0,0.0})
  node [black,midway,below,yshift=-1ex] {$3$};
\draw[decorate,decoration={brace,amplitude=1ex,mirror}]
  ({axis cs:3.7,20.0} |- {axis description cs:0.0,0.0}) -- 
  ({axis cs:4.3,20.0} |- {axis description cs:0.0,0.0})
  node [black,midway,below,yshift=-1ex] {$4$};
\draw[decorate,decoration={brace,amplitude=1ex,mirror}]
  ({axis cs:4.7,20.0} |- {axis description cs:0.0,0.0}) -- 
  ({axis cs:5.3,20.0} |- {axis description cs:0.0,0.0})
  node [black,midway,below,yshift=-1ex] {$5$};
\draw[decorate,decoration={brace,amplitude=1ex,mirror}]
  ({axis cs:5.7,20.0} |- {axis description cs:0.0,0.0}) -- 
  ({axis cs:6.3,20.0} |- {axis description cs:0.0,0.0})
  node [black,midway,below,yshift=-1ex] {$6$};
\draw[decorate,decoration={brace,amplitude=1ex,mirror}]
  ({axis cs:6.7,20.0} |- {axis description cs:0.0,0.0}) -- 
  ({axis cs:7.3,20.0} |- {axis description cs:0.0,0.0})
  node [black,midway,below,yshift=-1ex] {$7$};
\draw[decorate,decoration={brace,amplitude=1ex,mirror}]
  ({axis cs:7.7,20.0} |- {axis description cs:0.0,0.0}) -- 
  ({axis cs:8.3,20.0} |- {axis description cs:0.0,0.0})
  node [black,midway,below,yshift=-1ex] (last) {$8$};
\node [anchor=base west] at (last.base east) {$n_{threads}$};

\end{axis}
% 
\end{tikzpicture}
}
% 
\end{document}
