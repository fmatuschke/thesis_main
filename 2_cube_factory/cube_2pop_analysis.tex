\documentclass[varwidth=160cm, multi=page]{standalone}
\usepackage{float}              % [H]
\usepackage{graphicx}           % (pdf, png, jpg, eps)
\usepackage{pgfplots}
\usepackage{siunitx}
\usepackage{currfile}
\usepackage{ifthen}
\pgfplotsset{compat=1.17}
\usepgfplotslibrary{polar}
\usepgfplotslibrary{colorbrewer}
\usetikzlibrary{calc}
\usetikzlibrary{matrix}
\pgfplotsset{cycle list/Set1}
% \usetikzlibrary{external}
% \tikzexternalize[prefix=./output/tmp/]
%
\newenvironment{customlegend}[1][]{%
    \begingroup
    % inits/clears the lists (which might be populated from previous
    % axes):
    \csname pgfplots@init@cleared@structures\endcsname
    \pgfplotsset{#1}%
}{%
    % draws the legend:
    \csname pgfplots@createlegend\endcsname
    \endgroup
}%
\def\addlegendimage{\csname pgfplots@addlegendimage\endcsname}
% 
\def\delta{9}
% 
\begin{document}
% 
% \foreach \radius/\volume in {0.50/105, 1.00/210} {
\begin{page}
\begin{tikzpicture}
\foreach \omega [count=\i] in {0,30,60,90} {
\foreach \psi [count=\j] in {0.1,0.3,0.5,0.7} {
   \begin{scope}[shift={(\j*\delta,-\i*\delta)}, local bounding box=\i\j]
   % 
   \begin{polaraxis}[
      domain=-90:90,
      ymin=0, ymax=1,
      xmin=-90, xmax=90,
      xtick={-90,-45,...,90},
      ytick=\empty,
      cycle list/Set1,
   ]
   \foreach \radius/\volume [count=\t] in {0.50/105, 1.00/210} {
   \addplot+[very thick,]
      table [x=x, y=y, col sep=comma] {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_\radius_v0_\volume__0.dat};
      % \label{plots:1\t}
   \addplot+[very thick,dashed]
      table [x=x, y=y, col sep=comma] {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_\radius_v0_\volume__2.dat};
      % \label{plots:2\t}
   }
   \coordinate (AA) at (axis cs:90,1);
   \end{polaraxis}
   % 
   \begin{scope}[shift={(-4,0)}]
   \begin{polaraxis}[
      domain=90:270,
      ymin=0, ymax=1,
      xmin=90, xmax=270,
      xtick={90,135,...,270},
      xticklabels={90, 45, 0, -45, -90},
      ytick=\empty,
      cycle list/Dark2,
      clip=false,
   ]
   \foreach \radius/\volume [count=\t] in {0.50/105, 1.00/210} {
   \addplot+[very thick,]
      table [x=x, y=y, col sep=comma] {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_\radius_v0_\volume__1.dat};
      % \label{plots:3\t}
   \addplot+[very thick,dashed]
      table [x=x, y=y, col sep=comma] {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_\radius_v0_\volume__3.dat};
      % \label{plots:4\t}
   }
   \coordinate (BB) at (axis cs:90,1);
   \ifthenelse{\j=1}{\node[left] at (axis description cs:-0.25,0.5) {$\omega$};}{}
   \end{polaraxis}
   \end{scope}
   \node[inner sep=0pt] at ($(\i\j.south east) + (-1,1) $)
      {\includegraphics[trim=120 55 90 130, clip, width=3cm]
      {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_1.00_v0_210_.solved.png}};
   \end{scope}
   \ifthenelse{\i=1 \AND \j=1}{\coordinate (A) at (\i\j.north west);}{}
   \ifthenelse{\i=4 \AND \j=4}{\coordinate (B) at (\i\j.south east);}{}
   \ifthenelse{\i=1}{\path (AA) -- (BB) node[above, midway, yshift=2em] {$\psi$};}{}
}}
% 
\path[use as bounding box] (A) rectangle (B);
% 
\begin{scope}[shift={(current bounding box.north)}]
\node[anchor=south] {
% 
\begin{axis}[%
   legend columns=4,
   scale only axis,width=1mm,
   hide axis,
   legend image post style={sharp plot},
   cycle multiindex* list={Set1 \nextlist
                           solid, dashed\nextlist},
   ]
   \pgfplotsinvokeforeach{1,...,4}{\addplot coordinates {(0,0)};} % make six dummy plots
   \addlegendentry{$0.50/105$ init};
   \addlegendentry{$0.50/105$ solved};
   \addlegendentry{$1.00/210$ init};
   \addlegendentry{$1.00/210$ solved};
   % 
\end{axis}
};
\end{scope}
% 
% \pgfresetboundingbox
% \path [use as bounding box] (A) rectangle (B);
% 
\end{tikzpicture}
\end{page}
% }
% %
% % FULL DATA
% % 
% \foreach \radius/\volume in {0.50/105, 1.00/210} {
\begin{page}
\begin{tikzpicture}
\foreach \omega [count=\i] in {0,10,20,30,40,50,60,70,80,90} {
\foreach \psi [count=\j] in {0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9} {
   \begin{scope}[shift={(\j*\delta,-\i*\delta)}, local bounding box=\i\j]
   % 
   \begin{polaraxis}[
      domain=-90:90,
      ymin=0, ymax=1,
      xmin=-90, xmax=90,
      xtick={-90,-45,...,90},
      ytick=\empty,
      cycle list/Set1,
   ]
   \foreach \radius/\volume in {0.50/105, 1.00/210} {
   \addplot+[very thick,]
      table [x=x, y=y, col sep=comma] {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_\radius_v0_\volume__0.dat};
   \addplot+[very thick,dashed]
      table [x=x, y=y, col sep=comma] {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_\radius_v0_\volume__2.dat};
   }
   \coordinate (AA) at (axis cs:90,1);
   \end{polaraxis}
   %
   \begin{scope}[shift={(-4,0)}]
   \begin{polaraxis}[
      domain=90:270,
      ymin=0, ymax=1,
      xmin=90, xmax=270,
      xtick={90,135,...,270},
      xticklabels={90, 45, 0, -45, -90},
      ytick=\empty,
      cycle list/Dark2,
      clip=false
   ]
   \foreach \radius/\volume in {0.50/105, 1.00/210} {
   \addplot+[very thick,]
      table [x=x, y=y, col sep=comma] {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_\radius_v0_\volume__1.dat};
   \addplot+[very thick,dashed]
      table [x=x, y=y, col sep=comma] {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_\radius_v0_\volume__3.dat};
   }
   \coordinate (BB) at (axis cs:90,1);
   \ifthenelse{\j=1}{\node[left] at (axis description cs:-0.25,0.5) {$\omega$};}{}
   \end{polaraxis}
   \end{scope}
   \node[inner sep=0pt] (\i\j) at ($(\i\j.south east) + (-1,1) $)
      {\includegraphics[trim=120 55 90 130, clip, width=3cm]
      {output/images/models/cube_2pop_psi_\psi0_omega_\omega.00_r_1.00_v0_210_.solved.png}};
   \end{scope}
   \ifthenelse{\i=1 \AND \j=1}{\coordinate (A) at (\i\j.north west);}{}
   \ifthenelse{\i=10 \AND \j=9}{\coordinate (B) at (\i\j.south east);}{}
   \ifthenelse{\i=1}{\path (AA) -- (BB) node[above, midway, yshift=2em] {$\psi$};}{}
}}
\path[use as bounding box] (A) rectangle (B);
\end{tikzpicture}
\end{page}
% % }
% 
\end{document}
